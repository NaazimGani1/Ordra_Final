
    

        <h1>Place Order</h1>
        <form>
        
           
       
        <br>
        <div class="card">

        <div class="divleft" style="padding: 2px 2px;" >
            <label class="subheadinglabel" >Add Customer To Order: </label>
        </div>
     
        <div class="divleft"  style="float:left; width:40%;">
            <label for="name" style="width:100px">Name:       </label>
            <input  class="searchinput" class="form-control" [(ngModel)]="name" type="text" id="name" name="name">
       </div>
       <div class="divleft"  style="float:left; width:60%;">
            <label for="cusSurname">Surname:   </label>
            <input class="searchinput" class="form-control" [(ngModel)]="surname" type="text" id="surname" name="surname" >
            <button style="height: 30px;" (click) = "getCustomer()" >Add</button>
            <div *ngIf="customerNull" class ="diveleft">
                <label style="color: red; font-size: 13px; width :200px">Enter customer details</label>
            </div>
        </div>
       
        
    </div>
     

        <div *ngIf="showProd" class="card"> 
            <div class="divleft" style="padding: 2px 2px;">
            <label class="subheadinglabel" >Add Products:</label>
            </div>
           
           <!--<div class="divleft"  style="float:left; width:50%;">
                
                <label for="Category">Category: </label>
                <select required name="catSelection" [(ngModel)]="catSelection" (ngModelChange)="loadProducts($event)">
                    <option *ngFor="let category of categoryList" [ngValue]="category">{{category.PCatName}}</option>
                </select>
            </div>-->
            <div class="divleft" >
               <label for="Product">Product: </label>
                <select required name="prodSelection" [(ngModel)]="prodSelection" (ngModelChange)="addProduct($event)">
                    <option *ngFor="let product of productsWithPrice" [ngValue]="product">{{product.Prodname}}</option>
                </select>
            </div>
            <div *ngIf="prodNotSelected" class ="diveleft">
                <label style="color: red; font-size: 13px; width :200px">Select a product</label>
            </div>
         <div class="divleft">
                <label for="quantity">Quantity </label>
                <input  style="width:40px;" type="number" min="0" name="quantity" [(ngModel)]="quantity" id="quantity" required>
                <button style="height: 30px;" (click)="listProducts()">Add</button>
         </div>
         <div *ngIf="quantyNull" class ="diveleft">
            <label style="color: red; font-size: 13px; width :200px">Enter a quantity </label>
        </div>
        </div>
        <br>
        
        <br>
        <div class="card" style="padding: 2px 2px;" >
           
            <div class="divleft">
                <div class="divleft" style="padding: 2px 2px;" >
                    <label class="subheadinglabel" >Customer Order Details </label>
                </div>


                <div class="divleft" style="float:left; width:50%;">
                    <label class="displaylabel" for="cusOrdNo">Order No:      </label>
                   <label id="cusOrdNo" name="cusOrdNo">{{customerOrder.CusOrdNumber}}</label>
                   </div>

                   <div class="divleft" style="float:left; width:50%;">
                   <label class="displaylabel" for="OrdDate" style="width:100px">Date:      </label>
                     <label  id="OrdDate" name="OrdDate">{{customerOrder.CusOrdDate}}</label>
                   </div>
                
                <div class="divleft" style="float:left; width:50%;">
                <label  class="displaylabel" for="cusCell">Cell:</label>
                <label id="cusCell" name="cusCell" >{{customer.CusCell}}</label>
            
                </div>

                <div class="divleft" style="float:left; width:50%;">
                    
                <label class="displaylabel" for="cusName" style="width:100px">Name:       </label>
                 <label  id="cusName" name="cusName" >{{customer.CusName}}</label>
                </div>

                <div class="divleft" style="float:left; width:50%;">
                <label class="displaylabel" for="cusName" >Surname:       </label>
                <label  id="cusSurname" name="cusSurname">{{customer.CusSurname}}</label>
                </div>

                <div class="divleft" style="float:left; width:50%;">   
                <label  class="displaylabel" for="cusCell" style="width:100px">Email:</label>
                <label id="cusCell" name="cusCell" >{{customer.CusEmail}}</label>
                </div>
            </div>
         </div>

        <br>
        <div *ngIf="showTable" class="card">
                <table>    
                    <tr>
                        <th>Product</th>
                        <th>Quantity</th>
                        <th>Price</th>
                        <th>Subtotal</th>
                        <th></th>
                    </tr>
                    <tr *ngFor="let item of orderProducts, index as ndx">
                        <td>{{item.Prodname}}</td>
                         <td>{{item.Quantity}}</td>
                         <td>R{{item.Price}}</td>
                        <td>R{{item.Subtotal}}</td>
                        <td><button class="btntable" style="height: 30px; width:50px"  (click) ="remove(ndx)">X</button></td>
                    </tr>

                    <tr >
                        
                        <th></th>
                        <th></th>
                        <th>Subtotal (Exc VAT):</th>
                        <th>R{{displaySubtotal}}</th>
                    </tr>
    
                    <tr>
                        <th></th>
                        <th></th>
                        <th>VAT:{{vatPerc}}%:</th>
                        <th>R{{displayVat}}</th>
                    </tr>
                
                    <tr>
                        
                        <th></th>
                        <th></th>
                        <th>TOTAL:</th>
                        <th>R{{displayTotal}}</th>
                    </tr>
                </table>

              
            <div class="divleft">
                <button type="submit" (click)="placeOrder()">Place Order</button>
                <button type="submit" (click)="gotoCustomerOrderManagement()">Cancel</button>
            </div>
        </div>
        <br>



